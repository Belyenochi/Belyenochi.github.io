<!DOCTYPE html>
<html>
<head>
  <title>
    趣谈Linux操作系统笔记01（对应03-06） - The Tao of Jason
  </title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  
  <link rel="shortcut icon" href="/favicon.ico" />
  

  <link rel="stylesheet" href="/css/utils/clear.css">
  <link rel="stylesheet" href="/css/style.css">

  <link href="https://google-fonts.mirrors.sjtug.sjtu.edu.cn/css2?family=Noto+Sans+SC:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
  <link href="https://cdn.bootcss.com/highlight.js/9.15.6/styles/default.min.css" rel="stylesheet">
</head>

<body>
  <div class="title">
  <img class="title_img" src="/images/icon.png"/><br>
  <p id="site_title">&nbspThe Tao of Jason&nbsp</p>
</div>

  <div class="navi">
    <a id="navi_item" href="/#" class="menu-item-link">Home</a>
    <a id="navi_item" href="/tags" class="menu-item-link">Tags</a>
    <a id="navi_item" href="/about" class="menu-item-link">About</a>
    <a id="navi_item" href="/search" class="menu-item-link">Search</a>
    
        <a id="navi_item" href="/friendlink" class="menu-item-link">Friendlink</a>
    
</div>

<hr/>


  <div class="main">
    <link rel="stylesheet" href="/css/post.css">
<post>

  <div class="post_title">
    趣谈Linux操作系统笔记01（对应03-06）
  </div>

  <br/><br/>

  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.2/build/styles/xcode.min.css">
  <script src="/js/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <div id="post_content">
    <h3 id="1-操作系统简介"><a href="#1-操作系统简介" class="headerlink" title="1 操作系统简介"></a>1 操作系统简介</h3><h4 id="1-1-什么是操作系统"><a href="#1-1-什么是操作系统" class="headerlink" title="1.1 什么是操作系统"></a>1.1 什么是操作系统</h4><p><img src="/images/biji_os_01/WX20190406-221620@2x.png" alt=""><br>在谈论什么是操作系统前我们可以回忆一下十几年前买电脑的过程，引用文章的栗子就是”那时候买电脑，经常是这样一个情景：三五个哥们儿一起来到电脑城，呼啦呼啦采购了一大堆硬件，有密密麻麻都是针脚的<strong>CPU</strong>；有铺满各种复杂电路的一块板子，也就是<strong>主板</strong>；还需要买块<strong>显卡</strong>，用来连接显示器；还需要买个<strong>网卡</strong>，里面可以插网线；还要买块<strong>硬盘</strong>，将来用来存放文件；然后还需要一大堆<strong>线</strong>，将这些设备和主板连接起来；最终再来一个<strong>鼠标</strong>，一个<strong>键盘</strong>，还有一个<strong>显示器</strong>。设备差不多啦，准备开整！”,那么此时如何将这些硬件连接起来并使用户能够在不知道硬件的情况下进行操作呢（比如总不能让用户手动操作强行写入显示器所在内存使显示器显示字符），<strong>没错这层硬件细节与用户使用普通软件的抽象就是操作系统</strong>，</p>
<h4 id="1-2-为什么需要操作系统"><a href="#1-2-为什么需要操作系统" class="headerlink" title="1.2 为什么需要操作系统"></a>1.2 为什么需要操作系统</h4><p>其实回答这个问题只需要看一看没有操作系统的时候，实际上，最早的计算机没有操作系统（这里我们假设最早的计算机是ENIAC,实际上这个定义一直有争议这里只是举例）; 他们是一次负责一个程序的大型机器。出于这个原因，他们并不真正需要操作系统。事实上，最早的计算机要求用户物理连接和断开插头板上的电线以检索计算。但是如果你没有操作系统，你可以让你的电脑做任何事吗？（那时候说的程序员都还是指拔插连接线用以实现运算的女性呢～）</p>
<p>是。但是你还有很多工作要做。如果没有操作系统使用和执行标准的系统方法来运行计算机，那么您就会处于编写必须告诉计算机确切操作的代码（或程序）的位置。因此，如果要在文字处理程序中键入文档，则必须从头创建代码，告诉计算机响应键盘上按下的每个字符。然后，您必须编写一个代码，告诉计算机这些响应必须如何转换为屏幕。您必须告诉您的计算机如何绘制您想要的角色！想想你的文字处理程序有的每一个选项或可能性。您必须直接在硬盘上为每一个代码编写代码。</p>
<p>文中说<strong>操作系统其实就像一个软件外包公司，其内核就相当于这家外包公司的老板。所以接下来的整个课程中，请你将自己的角色切换成这家软件外包公司的老板，设身处地地去理解操作系统是如何协调各种资源，帮客户做成事情的。</strong>，那么其实这个类比隐含了默认场景，完整的类比应该是，客户尽是一些不具备软件开发能力的公司，此时客户看到了某款爆款软件”拼西西”的成功，心急如焚的想要构建一个高并发、高可用的”拼东东”东东，那么问题来了，公司内部没有现成的基础设施（消息队列、缓存等），更重要的是连个懂业务开发的技术人员都没有，我作为客户好急啊～从0-1完成传统企业转型臣妾做不到啊，然而我转念一想我其实不需要会开发我只需要一个中间层懂开发就行了，我输入业务输出的是计算机相应的程序就行，好了这不隔壁老张开了家软件外包公司帮我屏蔽了软件开发的抽象（对应到os就是输入输出设备，进程，存储等抽象），那么我就能安心的进行业务拓展了呢。（可以说广大应用软件正是站在巨人（操作系统）的肩膀上）</p>
<p><font color="red"><em>脑洞一下，如果说图灵机是没有os的计算机（其实是一种计算模型，当然也可以称为计算机），那么我们来思考一下图灵机适合现代使用吗？</em></font><br>&nbsp;</p>
<p><font color="blue">&nbsp;&nbsp;小王想要看漫画，请问您从图灵机抽象能给我显示一个小姐姐图片吗，这当然不行，虽然图灵机的实现可以支持各种逻辑运算结构但是图灵机并没有规定如何将纸带连接到显示屏（缺少了硬件驱动管理等），实际上之前说的早期的计算机确实是图灵机的一种实现，现在他有了一个响当当的名号<strong>冯诺伊曼体系结构</strong>，但是这种体系结构只是为os打好了硬件基础，在这个体系结构之上的抽象才是操作系统。那么现在我们知道图灵机距离适合现在使用差了两个层次，第一层是现代的体系结构作为图灵机的实现，第二层是操作系统的介入屏蔽硬件体系结构并提供一些好用的基础工具（比如进程抽象)</font></p>
<p><font color="red"><em>继续脑洞等价于图灵机的理论模型最知名的应该属于图灵师父在图灵机理论发表之前发布的lambda calculus，这是一种纯数学的模型（理解起来需要花费一点时间但是很有意思，推荐可以去看看计算语义学方面的书），上面我的脑洞在这里可以翻译为我能用数学函数运算看动漫吗？</em></font><br>&nbsp;</p>
<p><font color="blue">&nbsp;&nbsp;这次我觉得这次应该没人质疑了吧，当然你可能会想到，从看动漫降维抽象到计算理论这一层（对应到体系结构的实现）那么好像看起来我看动漫的基础就是lambda calculus呢（当然实际上并不是的，这里我指的是计算能力上的等价，ladmda calculus的计算能力是等价于图灵机的所以这里看动漫的基础归结到体系结构的抽象可以是图灵机并等价于lambda calculus）</font></p>
<h4 id="1-3-“双击-QQ”这个过程，都需要用到哪些硬件？"><a href="#1-3-“双击-QQ”这个过程，都需要用到哪些硬件？" class="headerlink" title="1.3 “双击 QQ”这个过程，都需要用到哪些硬件？"></a>1.3 “双击 QQ”这个过程，都需要用到哪些硬件？</h4><p>用户开始对着屏幕上的 QQ 图标双击鼠标了。</p>
<ol>
<li>鼠标就会通过鼠标线给电脑发消息，告知电脑，鼠标向某个方向移动了多少距离</li>
<li>屏幕，也就是显示器，是计算机的输出设备，将计算机处理用户请求展示给用户看</li>
<li>显卡，由显卡控制在显示器的哪个坐标上再绘制一个鼠标箭头</li>
<li>RAM, 坐标值经过鼠标输入中断写入ram对应的屏幕内存对应区域</li>
</ol>
<h4 id="1-4-从点击-QQ-图标，看操作系统全貌"><a href="#1-4-从点击-QQ-图标，看操作系统全貌" class="headerlink" title="1.4 从点击 QQ 图标，看操作系统全貌"></a>1.4 从点击 QQ 图标，看操作系统全貌</h4><ul>
<li>硬盘是个物理设备，要按照规定格式化成为文件系统，才能存放这些程序。文件系统需要一个系统进行统一管理，称为文件管理子系统（File Management Subsystem）。</li>
<li>当操作系统拿到 QQ 的二进制执行文件的时候，就可以运行这个文件了。QQ 的二进制文件是静态的，称为程序（Program），而运行起来的 QQ，是不断进行的，称为进程（Process）。</li>
<li>在操作系统中，也有同样的问题，例如多个进程都要往打印机上打印文件，如果随便乱打印进程，就会出现同样一张纸，第一行是 A 进程输出的文字，第二行是 B 进程输出的文字，全乱套了。所以，打印机的直接操作是放在操作系统内核里面的，进程不能随便操作。但是操作系统也提供一个办事大厅，也就是系统调用（System Call）。</li>
<li>在操作系统中，进程的执行也需要分配 CPU 进行执行，也就是按照程序里面的二进制代码一行一行地执行。于是，为了管理进程，我们还需要一个进程管理子系统（Process Management Subsystem）。如果运行的进程很多，则一个 CPU 会并发运行多个进程，也就需要 CPU 的调度能力了。</li>
<li>在操作系统中，不同的进程有不同的内存空间，但是整个电脑内存就这么点儿，所以需要统一的管理和分配，这就需要内存管理子系统（Memory Management Subsystem）。</li>
</ul>
<p>也可以使用软件外包公司的组织架构模拟以上的os组成模块<br><img src="/images/biji_os_01/WX20190406-234401@2x.png" alt=""></p>
<h4 id="1-5-os组成总览"><a href="#1-5-os组成总览" class="headerlink" title="1.5 os组成总览"></a>1.5 os组成总览</h4><p><img src="/images/biji_os_01/WX20190406-234419@2x.png" alt=""></p>
<h4 id="1-6-课堂练习"><a href="#1-6-课堂练习" class="headerlink" title="1.6 课堂练习"></a>1.6 课堂练习</h4><p>系统调用 kernel/<br>进程管理 kernel/, arch/<arch>/kernel<br>内存管理 mm/, arch/<arch>/mm<br>文件 fs/<br>设备 drivers/char, drivers/block<br>网络 net/</arch></arch></p>
<p><font color="red"><strong>arch</strong></font>代表某种架构</p>
<h3 id="2-常用的Linux命令"><a href="#2-常用的Linux命令" class="headerlink" title="2 常用的Linux命令"></a>2 常用的Linux命令</h3><h4 id="2-1-常用Linux命令图示"><a href="#2-1-常用Linux命令图示" class="headerlink" title="2.1 常用Linux命令图示"></a>2.1 常用Linux命令图示</h4><p><img src="/images/biji_os_01/4.jpg" alt=""></p>
<h4 id="2-2-部分命令在centos体系和ubnutu体系下的差别"><a href="#2-2-部分命令在centos体系和ubnutu体系下的差别" class="headerlink" title="2.2 部分命令在centos体系和ubnutu体系下的差别"></a>2.2 部分命令在centos体系和ubnutu体系下的差别</h4><p><strong>安装软件命令(以安装jdk为例)</strong><br>centos体系：<br>rpm -i jdk-XXX_linux-x64_bin.rpm<br>ubnutu体系:<br>dpkg -i jdk-XXX_linux-x64_bin.deb</p>
<p><strong>服务相关命令（以启动服务为例）</strong><br>centos体系：<br>systemctl start mariadb<br>ubnutu体系:<br>systemctl start mysql</p>
<h4 id="2-3-思路如下"><a href="#2-3-思路如下" class="headerlink" title="2.3 思路如下"></a>2.3 思路如下</h4><ol>
<li>安装jdk，mysql</li>
<li>配置jdbc驱动配置文件</li>
<li>通过jdbc在java app里连接msql并执行相应的数据库操作</li>
</ol>
<h3 id="3-几个常用的系统调用"><a href="#3-几个常用的系统调用" class="headerlink" title="3 几个常用的系统调用"></a>3 几个常用的系统调用</h3><h4 id="3-1-进程管理"><a href="#3-1-进程管理" class="headerlink" title="3.1 进程管理"></a>3.1 进程管理</h4><h5 id="3-1-1-fork"><a href="#3-1-1-fork" class="headerlink" title="3.1.1 fork"></a>3.1.1 fork</h5><p>linux里进程的创建是通过fork父进程完成的，关于fork的详细用法可以参考<a href="https://linux.die.net/man/2/fork" title="这里" target="_blank" rel="noopener">这里</a><br>关于fork可以引申出<font color="red">孤儿进程和僵尸进程</font></p>
<ul>
<li><font color="red">孤儿进程</font>：一个父进程退出，而它的一个或多个子进程还在运行，那么那些子进程将成为孤儿进程。孤儿进程将被init进程(进程号为1)所收养，并由init进程对它们完成状态收集工作。</li>
<li><font color="red">僵尸进程</font>：一个进程使用fork创建子进程，如果子进程退出，而父进程并没有调用wait或waitpid获取子进程的状态信息，那么子进程的进程描述符仍然保存在系统中。这种进程称之为僵死进程。<h5 id="3-1-2-execve"><a href="#3-1-2-execve" class="headerlink" title="3.1.2 execve"></a>3.1.2 execve</h5>execve用来执行一个二进制可执行文件或者以#! interpreter [optional-arg]为开头的脚本，关于execve的详细用法可以参考<a href="https://linux.die.net/man/2/execve" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-1-3-waitpid"><a href="#3-1-3-waitpid" class="headerlink" title="3.1.3 waitpid"></a>3.1.3 waitpid</h5>waitpid用来等待进程改变状态，常用于父进程等待子进程结束，关于waitpid的详细用法可以参考<a href="https://linux.die.net/man/2/waitpid" title="这里" target="_blank" rel="noopener">这里</a><h4 id="3-2-内存管理"><a href="#3-2-内存管理" class="headerlink" title="3.2 内存管理"></a>3.2 内存管理</h4><em>从操作系统角度来看，进程分配内存有两种方式，分别由两个系统调用完成：brk和mmap（不考虑共享内存）。</em><h5 id="3-2-1-brk"><a href="#3-2-1-brk" class="headerlink" title="3.2.1 brk"></a>3.2.1 brk</h5>brk是将数据段(.data)的最高地址指针_edata往高地址推，关于execve的详细用法可以参考<a href="https://linux.die.net/man/2/brk" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-2-2-mmap"><a href="#3-2-2-mmap" class="headerlink" title="3.2.2 mmap"></a>3.2.2 mmap</h5>mmap是在进程的虚拟地址空间中（堆和栈中间，称为文件映射区域的地方）找一块空闲的虚拟内存，关于mmap更详细的用法可以参考<a href="https://linux.die.net/man/3/mmap" title="这里" target="_blank" rel="noopener">这里</a><h4 id="3-3-文件管理"><a href="#3-3-文件管理" class="headerlink" title="3.3 文件管理"></a>3.3 文件管理</h4><em>Linux里一切皆文件</em><h5 id="3-3-1-open"><a href="#3-3-1-open" class="headerlink" title="3.3.1 open"></a>3.3.1 open</h5>open用于打开一个文件，关于open更详细的用法可以参考<a href="https://linux.die.net/man/3/open" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-3-2-close"><a href="#3-3-2-close" class="headerlink" title="3.3.2 close"></a>3.3.2 close</h5>close用于关闭一个文件，关于close更详细的用法可以参考<a href="https://linux.die.net/man/3/close" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-3-3-creat"><a href="#3-3-3-creat" class="headerlink" title="3.3.3 creat"></a>3.3.3 creat</h5>creat用于创建一个文件，关于creat更详细的用法可以参考<a href="https://linux.die.net/man/3/creat" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-3-4-lseek"><a href="#3-3-4-lseek" class="headerlink" title="3.3.4 lseek"></a>3.3.4 lseek</h5>lseek用于跳到文件的某个位置，关于lseek更详细的用法可以参考<a href="https://linux.die.net/man/3/lseek" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-3-5-read"><a href="#3-3-5-read" class="headerlink" title="3.3.5 read"></a>3.3.5 read</h5>read用于读取某个文件，关于read更详细的用法可以参考<a href="https://linux.die.net/man/3/read" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-3-6-write"><a href="#3-3-6-write" class="headerlink" title="3.3.6 write"></a>3.3.6 write</h5>write用于读取某个文件，关于write更详细的用法可以参考<a href="https://linux.die.net/man/3/write" title="这里" target="_blank" rel="noopener">这里</a><h4 id="3-4-信号处理"><a href="#3-4-信号处理" class="headerlink" title="3.4 信号处理"></a>3.4 信号处理</h4><h5 id="3-4-1-kill"><a href="#3-4-1-kill" class="headerlink" title="3.4.1 kill"></a>3.4.1 kill</h5>用户进程通过kill函数，将一个用户信号发送给另一个进程,<strong> 注意这里的kill是指代发送信号而不是杀死进程之类的…</strong>，关于sigaction更详细的用法可以参考<a href="https://linux.die.net/man/3/kill" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-4-2-sigaction"><a href="#3-4-2-sigaction" class="headerlink" title="3.4.2 sigaction"></a>3.4.2 sigaction</h5>sigaction用于注册信号处理函数，用kill发送的信号可以在sigaction中注册相应的信号处理函数用以处理，关于sigaction更详细的用法可以参考<a href="https://linux.die.net/man/3/sigaction" title="这里" target="_blank" rel="noopener">这里</a><h4 id="3-5-进程间通信"><a href="#3-5-进程间通信" class="headerlink" title="3.5 进程间通信"></a>3.5 进程间通信</h4><em>内核可以通过消息队列来实现进程间通信</em><h5 id="3-5-1-msgget"><a href="#3-5-1-msgget" class="headerlink" title="3.5.1 msgget"></a>3.5.1 msgget</h5>创建一个新的消息队列，关于msgget更详细的用法可以参考<a href="https://linux.die.net/man/3/msgget" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-5-2-msgget"><a href="#3-5-2-msgget" class="headerlink" title="3.5.2 msgget"></a>3.5.2 msgget</h5>将消息发送到消息队列，关于msgget更详细的用法可以参考<a href="https://linux.die.net/man/3/msgget" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-5-3-msgrcv"><a href="#3-5-3-msgrcv" class="headerlink" title="3.5.3 msgrcv"></a>3.5.3 msgrcv</h5>从消息队列中取出消息，关于msgget更详细的用法可以参考<a href="https://linux.die.net/man/3/msgget" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-5-4-shmget"><a href="#3-5-4-shmget" class="headerlink" title="3.5.4 shmget"></a>3.5.4 shmget</h5>创建一个共享内存块，关于shmget更详细的用法可以参考<a href="https://linux.die.net/man/3/shmget" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-5-5-shmmat"><a href="#3-5-5-shmmat" class="headerlink" title="3.5.5 shmmat"></a>3.5.5 shmmat</h5>将共享内存块映射到自己的内存空间（比如说自己的进程地址空间，关于shmmat更详细的用法可以参考<a href="https://linux.die.net/man/3/shmmat" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-5-6-sem-wait"><a href="#3-5-6-sem-wait" class="headerlink" title="3.5.6 sem_wait"></a>3.5.6 sem_wait</h5>持有信号量，信号量-1，关于sem_wait更详细的用法可以参考<a href="https://linux.die.net/man/3/sem_wait" title="这里" target="_blank" rel="noopener">这里</a><h5 id="3-5-7-sem-post"><a href="#3-5-7-sem-post" class="headerlink" title="3.5.7 sem_post"></a>3.5.7 sem_post</h5>释放信号量，信号量+1，关于sem_post更详细的用法可以参考<a href="https://linux.die.net/man/3/sem_post" title="这里" target="_blank" rel="noopener">这里</a><h4 id="3-6-网络通信"><a href="#3-6-网络通信" class="headerlink" title="3.6 网络通信"></a>3.6 网络通信</h4><h5 id="3-6-1-socket"><a href="#3-6-1-socket" class="headerlink" title="3.6.1 socket"></a>3.6.1 socket</h5>从tcp/ip 的解度看 socket ，它更多地体现了用户 API 与协议栈的一个中间层接口层。用户通过调用socket API 将报文递交给协议栈，或者从协议栈中接收报文件。关于socket更详细的用法可以参考<a href="https://linux.die.net/man/3/socket" title="这里" target="_blank" rel="noopener">这里</a></li>
</ul>
<h4 id="3-7-小结"><a href="#3-7-小结" class="headerlink" title="3.7 小结"></a>3.7 小结</h4><p><img src="/images/biji_os_01/WX20190407-101258@2x.png" alt=""></p>
<h4 id="3-8-课堂练习"><a href="#3-8-课堂练习" class="headerlink" title="3.8 课堂练习"></a>3.8 课堂练习</h4><p>以执行strace cat /dev/null 为例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">execve(&quot;/usr/bin/cat&quot;, [&quot;cat&quot;, &quot;/dev/null&quot;, &quot;-o&quot;, &quot;/root/straceout.txt&quot;], [/* 23 vars */]) = 0</span><br><span class="line">brk(NULL)                               = 0x1cda000</span><br><span class="line">mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fe3f1515000</span><br><span class="line">access(&quot;/etc/ld.so.preload&quot;, R_OK)      = -1 ENOENT (No such file or directory)</span><br><span class="line">open(&quot;/etc/ld.so.cache&quot;, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">fstat(3, &#123;st_mode=S_IFREG|0644, st_size=36309, ...&#125;) = 0</span><br><span class="line">mmap(NULL, 36309, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fe3f150c000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">open(&quot;/lib64/libc.so.6&quot;, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">read(3, &quot;\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0P%\2\0\0\0\0\0&quot;..., 832) = 832</span><br><span class="line">fstat(3, &#123;st_mode=S_IFREG|0755, st_size=2173512, ...&#125;) = 0</span><br><span class="line">mmap(NULL, 3981792, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7fe3f0f28000</span><br><span class="line">mprotect(0x7fe3f10eb000, 2093056, PROT_NONE) = 0</span><br><span class="line">mmap(0x7fe3f12ea000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1c2000) = 0x7fe3f12ea000</span><br><span class="line">mmap(0x7fe3f12f0000, 16864, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7fe3f12f0000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fe3f150b000</span><br><span class="line">mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fe3f1509000</span><br><span class="line">arch_prctl(ARCH_SET_FS, 0x7fe3f1509740) = 0</span><br><span class="line">mprotect(0x7fe3f12ea000, 16384, PROT_READ) = 0</span><br><span class="line">mprotect(0x60b000, 4096, PROT_READ)     = 0</span><br><span class="line">mprotect(0x7fe3f1516000, 4096, PROT_READ) = 0</span><br><span class="line">munmap(0x7fe3f150c000, 36309)           = 0</span><br><span class="line">brk(NULL)                               = 0x1cda000</span><br><span class="line">brk(0x1cfb000)                          = 0x1cfb000</span><br><span class="line">brk(NULL)                               = 0x1cfb000</span><br><span class="line">open(&quot;/usr/lib/locale/locale-archive&quot;, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">fstat(3, &#123;st_mode=S_IFREG|0644, st_size=106070960, ...&#125;) = 0</span><br><span class="line">mmap(NULL, 106070960, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fe3ea9ff000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">open(&quot;/usr/share/locale/locale.alias&quot;, O_RDONLY|O_CLOEXEC) = 3</span><br><span class="line">fstat(3, &#123;st_mode=S_IFREG|0644, st_size=2502, ...&#125;) = 0</span><br><span class="line">mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7fe3f1514000</span><br><span class="line">read(3, &quot;# Locale name alias data base.\n#&quot;..., 4096) = 2502</span><br><span class="line">read(3, &quot;&quot;, 4096)                       = 0</span><br><span class="line">close(3)                                = 0</span><br><span class="line">munmap(0x7fe3f1514000, 4096)            = 0</span><br><span class="line">open(&quot;/usr/share/locale/zh_CN.UTF-8/LC_MESSAGES/libc.mo&quot;, O_RDONLY) = -1 ENOENT (No such file or directory)</span><br><span class="line">open(&quot;/usr/share/locale/zh_CN.utf8/LC_MESSAGES/libc.mo&quot;, O_RDONLY) = -1 ENOENT (No such file or directory)</span><br><span class="line">open(&quot;/usr/share/locale/zh_CN/LC_MESSAGES/libc.mo&quot;, O_RDONLY) = 3</span><br><span class="line">fstat(3, &#123;st_mode=S_IFREG|0644, st_size=81139, ...&#125;) = 0</span><br><span class="line">mmap(NULL, 81139, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fe3f14f5000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">open(&quot;/usr/lib64/gconv/gconv-modules.cache&quot;, O_RDONLY) = 3</span><br><span class="line">fstat(3, &#123;st_mode=S_IFREG|0644, st_size=26254, ...&#125;) = 0</span><br><span class="line">mmap(NULL, 26254, PROT_READ, MAP_SHARED, 3, 0) = 0x7fe3f150e000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">write(2, &quot;cat\357\274\232\346\227\240\346\225\210\351\200\211\351\241\271 -- o\n&quot;, 24cat：无效选项 -- o</span><br><span class="line">) = 24</span><br><span class="line">open(&quot;/usr/share/locale/zh_CN.UTF-8/LC_MESSAGES/coreutils.mo&quot;, O_RDONLY) = -1 ENOENT (No such file or directory)</span><br><span class="line">open(&quot;/usr/share/locale/zh_CN.utf8/LC_MESSAGES/coreutils.mo&quot;, O_RDONLY) = -1 ENOENT (No such file or directory)</span><br><span class="line">open(&quot;/usr/share/locale/zh_CN/LC_MESSAGES/coreutils.mo&quot;, O_RDONLY) = 3</span><br><span class="line">fstat(3, &#123;st_mode=S_IFREG|0644, st_size=190751, ...&#125;) = 0</span><br><span class="line">mmap(NULL, 190751, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fe3f14c6000</span><br><span class="line">close(3)                                = 0</span><br><span class="line">open(&quot;/usr/share/locale/zh.UTF-8/LC_MESSAGES/coreutils.mo&quot;, O_RDONLY) = -1 ENOENT (No such file or directory)</span><br><span class="line">open(&quot;/usr/share/locale/zh.utf8/LC_MESSAGES/coreutils.mo&quot;, O_RDONLY) = -1 ENOENT (No such file or directory)</span><br><span class="line">open(&quot;/usr/share/locale/zh/LC_MESSAGES/coreutils.mo&quot;, O_RDONLY) = -1 ENOENT (No such file or directory)</span><br><span class="line">write(2, &quot;Try &apos;cat --help&apos; for more inform&quot;..., 39Try &apos;cat --help&apos; for more information.</span><br><span class="line">) = 39</span><br><span class="line">close(1)                                = 0</span><br><span class="line">close(2)                                = 0</span><br><span class="line">exit_group(1)                           = ?</span><br><span class="line">+++ exited with 1 +++</span><br></pre></td></tr></table></figure></p>
<h3 id="4-引用链接"><a href="#4-引用链接" class="headerlink" title="4 引用链接"></a>4 引用链接</h3><p><a href="https://computer.howstuffworks.com/computer-run-without-operating-system1.htm" title="computer-run-without-operating-system" target="_blank" rel="noopener">computer-run-without-operating-system</a><br><a href="https://time.geekbang.org/column/article/88060" title="极客时间" target="_blank" rel="noopener">极客时间</a><br><a href="https://www.kernel.org/" title="kernel" target="_blank" rel="noopener">kernel</a><br><a href="https://courses.linuxchix.org/kernel-hacking-2002/08-overview-kernel-source.html" title="overview-kernel-source" target="_blank" rel="noopener">overview-kernel-source</a><br><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/strace.html" title="strace" target="_blank" rel="noopener">strace</a><br><a href="https://linux.die.net/man/2/fork" title="linux man" target="_blank" rel="noopener">linux man</a><br><a href="https://www.cnblogs.com/sky-heaven/p/10005642.html" title="Linux内存分配小结--malloc、brk、mmap" target="_blank" rel="noopener">Linux内存分配小结–malloc、brk、mmap</a></p>

  </div>

  <br/>

  
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">This post has been read：<span id="busuanzi_value_page_pv"></span>times</span>
  
  <br/><br/>


  

  <div class="copyright" >

    <a class="license-image" rel="license" href="http://creativecommons.org/licenses/by
-nc
-sa
/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by
-nc
-sa
/4.0/80x15.png" />
    </a>

      <p>本作品采用
      <a class="license-word-hyper" rel="license" href="http://creativecommons.org/licenses/by
-nc
-sa
/4.0/">
        知识共享署名
-非商业性使用
-相同方式共享
4.0 国际许可协议</a>
      进行许可。</p>
  </div>


  <div id="top">
    <a href="#">▲</a>
    <a href="#footer">▼</a>
</div>

  
  <script defer src="https://commento.pcrab.xyz/js/commento.js"></script>
<div id="commento"></div>
<noscript>Please enable JavaScript to load the comments.</noscript>


</post>

  </div>

  <foot id="footer">
  <hr class="boldline"/>
  <br>

  <p class="center font">
    
      <a href="https://github.com/pcrab">
  <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
   <path class="icon_path" d="M427.392 853.504a61.44 61.44 0 0 1-1.450667 15.530667 92.586667 92.586667 0 0 1-10.965333 27.605333c-15.061333 25.301333-40.661333 42.154667-73.642667 42.154667-77.653333 0-108.117333-38.101333-146.261333-133.504C169.216 740.693333 157.013333 725.461333 128 725.461333v-85.333333c77.653333 0 108.117333 38.101333 146.261333 133.504 25.856 64.597333 38.058667 79.786667 67.072 79.786667 0-12.373333-0.170667-23.296-0.512-38.144-0.853333-34.816-0.938667-41.941333 0.554667-51.2 0.64-20.352 5.888-34.773333 16.384-49.066667-95.232-20.736-159.445333-63.573333-196.309333-132.992l-13.824-32.426667C134.186667 510.848 128 467.072 128 416.426667c0-58.24 17.749333-110.336 50.944-153.856-10.368-41.386667-8.96-91.989333 13.909333-149.077334l7.466667-18.688 19.2-6.101333c2.56-0.853333 5.632-1.578667 9.301333-2.133333 37.290667-5.888 90.325333 8.106667 159.701334 52.48a565.930667 565.930667 0 0 1 127.274666-14.208c38.741333 0 77.226667 3.882667 114.048 11.605333 67.456-42.24 119.04-55.509333 155.306667-49.92 3.626667 0.597333 6.741333 1.322667 9.258667 2.133333l19.285333 6.101334 7.466667 18.773333c20.010667 50.218667 23.424 96.469333 16.128 136.96C875.434667 296.32 896 352.597333 896 416.512c0 53.888-3.84 94.378667-14.933333 133.802667l-11.733334 32.170666c-30.677333 69.333333-98.304 112.64-202.538666 133.248 10.837333 15.018667 15.872 30.250667 15.872 52.394667v42.666667l-0.042667 42.666666a13.013333 13.013333 0 0 0 0.341333 2.730667L682.666667 938.794667c-36.352 0-63.36-17.706667-76.672-45.653334a88.277333 88.277333 0 0 1-8.661334-40.277333v-84.736c0-3.584-0.128-3.797333-8.832-12.501333-23.296-23.296-33.834667-40.874667-33.834666-72.832v-38.613334l38.4-3.84c114.346667-11.52 176.512-43.221333 197.12-89.6l9.6-26.325333c7.68-27.562667 10.88-61.098667 10.88-107.946667 0-49.706667-17.365333-90.837333-50.218667-123.648L742.4 274.773333l7.381333-24.448c6.528-21.717333 8.106667-47.402667 1.152-76.714666a158.634667 158.634667 0 0 0-3.584 0.938666c-22.826667 6.4-51.370667 20.053333-85.76 43.008l-15.658666 10.453334-18.304-4.522667a467.754667 467.754667 0 0 0-111.829334-13.269333c-42.709333 0-84.906667 5.418667-123.946666 16.042666l-19.029334 5.205334-16.256-11.136c-35.541333-24.32-65.109333-38.826667-88.746666-45.568a158.293333 158.293333 0 0 0-4.864-1.28c-8.234667 33.92-4.992 61.781333 3.413333 82.688l9.984 25.088-18.346667 19.797333C228.693333 332.629333 213.333333 370.986667 213.333333 416.512c0 41.685333 4.864 76.202667 13.824 102.229333l11.178667 26.453334c27.904 52.352 87.168 83.84 192.853333 95.146666l38.144 4.096v38.357334c0 32-10.538667 49.536-33.834666 72.832-8.704 8.704-8.832 8.96-8.832 12.501333l-0.725334 7.893333c-0.512 2.56-0.512 9.258667 0.170667 37.205334 0.298667 12.8 0.469333 22.997333 0.554667 33.621333a33.962667 33.962667 0 0 1 0.725333 6.656z"/>
  </svg>
 </a>

    
    
      <a href="mailto:pcrab@mailbox.org">
  <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M513.78 602.99c-27.28 0.45-53.79-9.09-74.53-26.83l-65.96-56.64c-15.64-13.37-17.48-36.9-4.1-52.54 13.38-15.65 36.9-17.48 52.54-4.1l65.96 56.64c13.68 11.1 33.27 11.1 46.95 0L881.2 253.08l-708.02-2.61c-20.58 0-37.26-16.69-37.26-37.26s16.68-37.26 37.26-37.26H881.2c41.09-2.36 76.32 29.05 78.67 70.14a74.519 74.519 0 0 1-32.46 65.87L580.86 578.38a111.842 111.842 0 0 1-67.08 24.61z m444.57 133.4V438.28c0-20.58-16.68-37.26-37.26-37.26s-37.26 16.69-37.26 37.26V736.4c0 20.58-16.68 37.26-37.26 37.26h-521.7c-20.58 0-37.26 16.69-37.26 37.26s16.68 37.26 37.26 37.26h521.7c61.72 0.01 111.78-50.05 111.78-111.79zM362.12 363.75c0-20.58-16.68-37.26-37.26-37.26h-223.6c-20.58 0-37.26 16.69-37.26 37.26s16.68 37.26 37.26 37.26h223.59c20.58 0.01 37.27-16.68 37.27-37.26z m0 298.12c0-20.58-16.68-37.26-37.26-37.26h-111.8c-20.58 0-37.26 16.69-37.26 37.26s16.68 37.26 37.26 37.26h111.79c20.58 0 37.27-16.69 37.27-37.26z"/>
  </svg>
</a>

    
    
      <a href="https://t.me/Pcrab">
  <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M834.24 127.872a95.168 95.168 0 0 0-29.856 7.136h-0.128c-9.12 3.616-52.48 21.856-118.4 49.504l-236.224 99.488c-169.504 71.36-336.128 141.632-336.128 141.632l1.984-0.768s-11.488 3.776-23.488 12a64.96 64.96 0 0 0-18.752 18.144c-5.888 8.64-10.624 21.856-8.864 35.52 2.88 23.104 17.856 36.96 28.608 44.608 10.88 7.744 21.248 11.36 21.248 11.36h0.256l156.256 52.64c7.008 22.496 47.616 156 57.376 186.752 5.76 18.368 11.36 29.856 18.368 38.624 3.392 4.48 7.36 8.224 12.128 11.232a35.808 35.808 0 0 0 7.872 3.392l-1.6-0.384c0.48 0.128 0.864 0.512 1.216 0.64 1.28 0.352 2.144 0.48 3.776 0.736 24.736 7.488 44.608-7.872 44.608-7.872l1.12-0.896 92.256-84 154.624 118.624 3.52 1.504c32.224 14.144 64.864 6.272 82.112-7.616 17.376-13.984 24.128-31.872 24.128-31.872l1.12-2.88 119.488-612.128c3.392-15.104 4.256-29.248 0.512-42.976a57.824 57.824 0 0 0-24.992-33.504 59.904 59.904 0 0 0-34.144-8.64z m-3.232 65.6c-0.128 2.016 0.256 1.792-0.64 5.664v0.352l-118.368 605.76c-0.512 0.864-1.376 2.752-3.744 4.64-2.496 1.984-4.48 3.232-14.88-0.896l-189.12-144.992-114.24 104.128 24-153.28 308.992-288c12.736-11.84 8.48-14.336 8.48-14.336 0.896-14.528-19.232-4.256-19.232-4.256l-389.632 241.376-0.128-0.64-186.752-62.88v-0.128l-0.48-0.096a8.64 8.64 0 0 0 0.96-0.384l1.024-0.512 0.992-0.352s166.752-70.272 336.256-141.632c84.864-35.744 170.368-71.744 236.128-99.52 65.76-27.616 114.368-47.872 117.12-48.96 2.624-1.024 1.376-1.024 3.264-1.024z"/>
  </svg>
</a>

    
    
    
    
    
    
    
    
      <a href="/atom.xml">
  <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <path d="M122.88 720.213333a128 128 0 0 0 0 180.906667 128 128 0 0 0 180.906667 0 128 128 0 0 0-180.906667-180.906667z m120.746667 120.746667a42.666667 42.666667 0 0 1-60.586667-60.586667 42.666667 42.666667 0 0 1 60.586667 0 42.666667 42.666667 0 0 1 0 60.586667zM213.333333 512a42.666667 42.666667 0 0 0 0 85.333333 213.333333 213.333333 0 0 1 213.333334 213.333334 42.666667 42.666667 0 0 0 85.333333 0 298.666667 298.666667 0 0 0-298.666667-298.666667z m0-170.666667a42.666667 42.666667 0 0 0 0 85.333334 384 384 0 0 1 384 384 42.666667 42.666667 0 0 0 85.333334 0 472.746667 472.746667 0 0 0-137.386667-331.946667A472.746667 472.746667 0 0 0 213.333333 341.333333z m452.693334 16.64A644.693333 644.693333 0 0 0 213.333333 170.666667a42.666667 42.666667 0 0 0 0 85.333333 554.666667 554.666667 0 0 1 554.666667 554.666667 42.666667 42.666667 0 0 0 85.333333 0 644.693333 644.693333 0 0 0-187.306666-452.693334z"/>
  </svg>
</a>

    
  <p>
  <br>
  <p id="hitokoto">:D 获取中...</p>
  <script src="https://v1.hitokoto.cn/?c=a&encode=js&select=%23hitokoto" defer></script>
  <br>
  <p class="center font">
    &copy - <a href="http://www.woaitucao.xyz">Jason</a> -  2020 -  2021 - Powered by <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/pcrab/hexo-theme-quark"> Quark </a> 
  </p>
  <p>
    <a href="https://beian.miit.gov.cn/" target="_blank"></a>
  </p>
  <br/>
</foot>

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
